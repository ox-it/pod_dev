/*
 ******************************** Search API/ Solr "Current Search block"  ****************************
 */

.context-results-page {

	.header-middle-bottom-outer {
		padding-top: 4em;
		padding-bottom: 4em;
		background-color: $colorLightGrey;
	}

	.views-exposed-form {
		// float: left;
		// width: 75%;
	}

	.block-current-search {
		padding-top: 2em;
		text-align: center;
		color: $colorMidGrey;

		h3 {
			letter-spacing: .1em;
			background-color: $colorBeigeGrey;
			font-weight: normal;
			font-size: 1.7em;
			padding: .4em 0;
			@include media($mobile) {
				font-size: 1.2em;
			}	
		}

		.item-list {

			background-color: lighten($colorBeigeGrey, 3%);
			padding: .1em 0 0 0;
			text-align: center;
			ul {
				padding: .5em 0;
				
				li {
					//display: inline-block;
					padding: .1em 1em;
					font-size: 1.1em;
					//float: left;
				}

			}

		}

	}


	// Current Search block -- if using as a block beside the search bar, floated right
	// .block-current-search {		
	// 	float: right;
	// 	width: 25%;

	// 	.current-search-item {
	// 		h3 {
	// 			margin: 0;
	// 			background-color: $colorLinkHover;
	// 			padding: 1.3em;
	// 			display: block;
	// 			color: $font-heading-color;
	// 	  		border-radius: 2px 2px 0 0;
	// 	  		letter-spacing: .1em;
	// 		}
	// 		.item-list {
	// 			//text-align: right;
	// 			background-color: $colorBeigeGrey;
				
	// 			//padding-top: 10px;
	// 			padding: 10px 5px 1px 10px;
	// 			color: $colorMidGrey;
	// 			font-size: 1em;
	// 			a {color: $colorDarkGrey;}

	// 		}
	// 	}

	// }
}




/*
 ***********  Solr result views for episodes on Episode page, Series page, and People page ****************
 * The layout is overridden below for the Series page, as the Series results to not include Series cover images
 * in the .fieldset-top-left
 */


.page-solr, .context-people-page, .context-series-page, .context-unit-page {

	.view-episode-search-solr- {

		.view-header {
			float: right;
			padding: 5px;
			font-size: 1.3em;
			color: $colorMidGrey;
			background-color: $colorLinkHover;
			color: $colorVLightGrey;
			margin-top: -2.5em;
			width: 190px;
			text-align: center;
			border-radius: 1px;
			font-variant: small-caps;


			@include media($mobile) {				
				width: 100%;
				margin-top: -4em;
			}

		}

		.views-row {
			margin-bottom: 2em; 
			padding: 0 0 10px 0;

			.views-field-title {
				
				margin-bottom: .5em;
				a {
					font-size: 1.3em;
					font-weight: bold;
					background-color: $colorLightGrey;
					display: block;
					border-radius: $base-border-radius;
					padding: 3px 6px 5px 6px;
					&:hover {
						background-color: darken($colorLightGrey, 15%);
					}
				}
			}

			.fieldset-top {
				@include clearfix;

				.fieldset-top-left {	
					@include span-columns(3 of 12);
					img:hover {opacity: .8;}
					&:hover ~ .fieldset-top-middle .views-field-field-series-name {
						background-color: $colorBeigeGrey;
					}
				}

				.fieldset-top-middle {	
					@include clearfix;
					@include span-columns(6.5 of 12);
					font-size: .9em;

					@include media($tablet) {
						font-size: 1em;
					}

					.views-field-body-value {
						border-bottom: 1px solid $base-border-color; 
						margin-bottom: .5em;
						padding-bottom: .5em;
					}

					.views-field-field-series-name, 
					.views-field-field-series-field-unit {
					} 

					.views-field-field-people {
						vertical-align: bottom;
					}
				}

				.fieldset-top-right {
					@include span-columns(2.5 of 12);
					.views-field-field-media-files {
						// A nasty 'accessibility bug on the h2 invisible-element class!!!!'
						h2 {display: none;}
						img {
							margin-bottom: 1em;
						}   
					}
				}

			}

			.fieldset-bottom {
				border-top: 1px solid $base-border-color;
				margin-top: $base-spacing/2;
				//padding-top: $base-spacing/2;
				
			}


		}

	}

}


// This overrides the layout above -- as the Series results do not include a Series cover.
.context-series-page {

	.view-episode-search-solr- {

		.views-row {
			.fieldset-top {

				.fieldset-top-left {
				}

				.fieldset-top-middle {
					@include span-columns(9.5 of 12);
				}

				.fieldset-top-right {
					@include span-columns(2.5 of 12);
				}
			}
		}
	}
}

/* This offsets the disappearing sidebar image, to push the episode search
results downward, but NOT on the episode page itself (as it has no
sidebar image -- otherwise, could go above) */
.context-series-page, .context-people-page, .context-unit-page {
	.view-episode-search-solr- {
		@include media($mobile) {
			margin-top: 8em;
		}
	}
}
